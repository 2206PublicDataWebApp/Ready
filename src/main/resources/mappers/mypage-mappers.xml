<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="MypageMapper">
  	<resultMap type="Survey" id="surveyResultMap">
  		<id 	property="userId" 		column="USER_ID"/>
  		<result property="answerGender" column="ANSWER_GENDER"/>
  		<result property="answerLove" 	column="ANSWER_LOVE"/>
  		<result property="answerHobby" 	column="ANSWER_HOBBY"/>
  		<result property="answerReason" column="ANSWER_REASON"/>
  		<result property="answerWriter" column="ANSWER_WRITER"/>
  		<result property="enrollDate" 	column="ENROLL_DATE"/>
  		<result property="updateDate" 	column="UPDATE_DATE"/>
  	</resultMap>
  
	<insert id="InsertSurvey">
	  INSERT INTO SURVEY_TBL VALUES(#{userId }, #{answerGender }, #{answerLove }, #{answerHobby }, #{answerReason }, #{answerWriter }, DEFAULT, DEFAULT)
	</insert>
	
	<update id="updateMySurvey">
		UPDATE SURVEY_TBL SET ANSWER_GENDER = #{answerGender }, ANSWER_LOVE = #{answerLove }, ANSWER_HOBBY = #{answerHobby }, ANSWER_REASON = #{answerReason }, ANSWER_WRITER = #{answerWriter }, UPDATE_DATE = DEFAULT 
		WHERE USER_ID = #{userId }
	</update>
	  
	<select id="selectMySurvey" resultMap="surveyResultMap">
	  SELECT * FROM SURVEY_TBL WHERE USER_ID = #{userId}
	</select>
  </mapper>